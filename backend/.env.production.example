# =============================================================
#  MitraFinance Backend — PRODUCTION Environment Template
#  Copy to .env on the production server and fill every value.
#  NEVER commit the real .env to version control.
# =============================================================

# ── Server ───────────────────────────────────────────────────
PORT=5000
NODE_ENV=production

# ── Database (use a dedicated DB user with minimal privileges) ─
DB_HOST=db.internal.mitrafinance.com
DB_PORT=3306
DB_USER=mitrafinance_app
DB_PASS=CHANGE_ME_strong_db_password
DB_NAME=db_finance

# ── JWT ───────────────────────────────────────────────────────
# Generate: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_ME_minimum_64_char_random_hex
# Consider shortening to 1h and adding a refresh-token flow
JWT_EXPIRES_IN=24h

# ── API Key ───────────────────────────────────────────────────
# Must match VITE_API_KEY in the frontend build.
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Rotate by: 1) generate new key, 2) deploy backend, 3) rebuild & redeploy frontend.
API_KEY=CHANGE_ME_32_char_random_hex

# ── CORS ─────────────────────────────────────────────────────
# Comma-separated list of allowed frontend origins (no trailing slash)
CORS_ORIGIN=https://app.mitrafinance.com

# ── Security ─────────────────────────────────────────────────
# Increase rounds slightly for production hardening (12 adds ~2s/hash)
BCRYPT_ROUNDS=12

# ── Backups ──────────────────────────────────────────────────
BACKUP_DIR=/var/backups/mitrafinance
BACKUP_RETENTION_DAYS=90

# ── Timezone ─────────────────────────────────────────────────
TZ=Asia/Makassar
